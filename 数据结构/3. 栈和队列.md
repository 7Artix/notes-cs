
# 栈

**栈**是是限定仅在表尾进行插入或删除的线性表.
表尾称为**栈顶**, 表头称为**栈底**.

栈是后进先出 (LIFO) 结构.

和普通线性表相似, 栈也有顺序存储和链式存储两种表示方法. 

栈应用的典型案例:

**进制转换**
其原理为不断计算求余结果, 将单数位结果压入栈, 最终结果从栈中依次取出.

**括号匹配检验**
依次读入括号, 若为右括号, 则或者与栈顶括号抵消, 或者不合法. 若为左括号, 压入栈中. 在算法开始和结束时, 栈应该是空的.

**行编辑程序**
在编辑器设计中, 可以添加一个缓冲区, 若用户发现单个字符输入错误, 可以删除单个字符, 若整行错误则整行删除. 接受一个用户输入的字符, 若为普通字符则压入栈顶, 若为删除单个字符, 则从栈顶删去一个元素, 若为整行删除, 则将栈清空.

**迷宫求解**
计算机求解迷宫问题通常考穷举, 即沿某方向前进, 若能走通则继续, 否则原路退回更换方向, 直到所有可能通路完成. 需要使用栈来保存从入口到当前位置的路径. 路径必须是简单路径, 即路径不能包含重复位置. 


**表达式求值**
表达式是由操作数, 运算符和界限符组成的.
操作数可以是常数, 也可以是被说明为变量或者常量的标识符.
运算符可以分为算术运算符, 关系运算符和逻辑运算符.
基本界限符有左右括号和表达式结束符等.

将运算符和界限符统称为运算符, 任意两个相继出现的算符 $\theta_1$ 和 $\theta_2$ 之间的有限关系至多是下面三种情况之一:
-  $\theta_1<\theta_2$     $\theta_1$ 的优先级低于 $\theta_2$ 
-  $\theta_1=\theta_2$     $\theta_1$ 的优先级等于 $\theta_2$ 
-  $\theta_1>\theta_2$     $\theta_1$ 的优先级高于 $\theta_2$ 
定义所有算符之间的优先关系. 当 " $($ " 和 " $)$ " 相遇时, 括号内运算完成.
由运算规则, $+ - \times \div$ 的优先级均低于 $($ , 高于 $)$ . 仅有 $()$ 和 $\#\#$ 标记为优先级相等.
不允许 $\theta_1 = )$ , $\theta_2 = ($ 的情况出现, 若出现则判定为语法错误.

使用两个栈来处理该问题, 一个寄存运算符 `OPTR` , 另一个寄存操作数或运算结果 `OPND` .
算法基本思想为:
1. 首先置操作数栈为空战, 表达式起始符 " $\#$ " 为运算符栈的栈底元素.
2. 依次读入表达式中的每个字符, 若为操作数, 则进 `OPND` ; 若为运算符, 则和栈顶运算符比较先后权, 然后进行相应操作. 直至整个表达式求值完成, 即 `OPTR` 栈的栈顶元素和当前读入的字符均为 " $\#$ ".
当前字符为操作符:
- 若栈顶操作符比当前字符操作符优先级低, 则将当前操作符压入 `OPTR` .
- 若栈顶操作符和当前字符操作符优先级相同, 则为括号, 直接pop栈顶脱括号.
- 若栈顶操作符比当前字符操作符优先级高, 则pop栈顶操作符与 `OPND` 的两个操作数, 进行运算后压入 `OPND` .


# 栈与递归

