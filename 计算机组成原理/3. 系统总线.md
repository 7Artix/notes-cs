
# 3.1 总线基本概念

计算机系统的互连方式有两种. 各部件之间使用单独的连线, 称为<font color=red><b>分散连接</b></font>, 将各部件链接到一组公共的信息传输线上, 称为<font color=red><b>总线连接</b></font>. 借由总线, 各个部件可以独立的增减.

通过总线相连时, 多个不见同时向总线发送信息会产生信号冲突, 导致传输无效, 因此某一时刻只能允许一个部件向总线发送信息, 但多个部件可以同时从总线上接受相同的信息.

若从CPU引出两条总线, `I/O总线`挂载各类I/O设备, `M总线`与主存连接, 该结构称为**双总线结构**. 对于双总线结构, I/O的数据要与内存传输需要经过CPU, 影响性能.

在**单总线结构**中, 所有部件全部连接到`系统总线`. 当主存与I/O传输信息时, CPU可以继续处理不依赖主存和I/O的操作. 但由于仅有一组总线, 因此当各个部件都需要占用总线时会引起冲突.

另外可以在**单总线结构**的基础上, 在CPU和主存之间增加一组`存储总线`, 提供主存与CPU之间的专用传输信息通道. 可以提高传输效率, 减轻系统总线的负载.


# 3.2 总线分类

按数据传输方式分类可分为:
- 并行总线
- 串行总线

按传输宽度可分为:
- 8位总线
- 16位总线
- 32位总线
- 64位总线
- ......

按使用范围划分可分为:
- 计算机总线
- 测控总线
- 网络通信总线
- ......

以下按连接部件不同, 介绍三类总线.


## 片内总线

片内总线是芯片内部的总线, 例如在CPU内部, 寄存器与寄存器之间, 寄存器算逻单元ALU之间, 均通过片内总线连接.


## 系统总线

系统总线是指CPU, 主存, I/O各大不见之间的总线. 也称为**板级总线**.

按传输信息的不同, 系统总线可分为:
- 数据总线
- 地址总线
- 控制总线

### 数据总线

用来传输各部件之间的信息, 是双向总线, 其位数与机器字长, 存储字长有关, 通常为8位, 16位, 32位.

### 地址总线

地址总线主要用于指出数据总线上的元数据或目的数据在主存单元的地址, 或I/O设备的地址. 地址总线由CPU单向输出.

### 控制总线

数据总线与地址总线是被挂载在总线上的所有部件共享的, 因此, 需要控制总线决定不同时刻, 不同部件的总线专用权. 
控制总线是用来发出各种控制信号的传输线. 
控制总线大致是由CPU发出控制指令的, 但是其余设备也可以通过控制总线想CPU发出中断请求, 总线占用请求等信息. 
控制总线还可以用于监视各设备状态.
因此, 控制总线是双向总线.

常见的控制信号包括:
- 时钟
- 复位
- 总线请求
- 总线允许
- 中断请求
- 中断响应
- 存储器读
- 存储器写
- I/O读
- I/O写
- 传输相应

总线性能指标